<nav class="navbar navbar-expand-lg modern-navbar">
  <div class="container">
    <a class="navbar-brand" [routerLink]="['/']">
      <div class="logo-container">
        <div class="logo-mark">
          <img src="assets/logo.png" alt="PeakLift Logo" class="logo-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
          <div class="logo-placeholder" style="display: none;">
            <i class="bi bi-activity"></i>
          </div>
        </div>
        <span class="logo-text">PeakLift</span>
      </div>
    </a>
    
    <button 
      class="navbar-toggler" 
      type="button" 
      data-bs-toggle="collapse" 
      data-bs-target="#navbarContent" 
      aria-controls="navbarContent" 
      aria-expanded="false" 
      aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarContent">
      <!-- Left side: Navigation links -->
      <ul class="navbar-nav mb-2 mb-lg-0 align-items-center">
        <li class="nav-item" *ngIf="authenticated">
          <a class="nav-link" [routerLink]="['/dashboard']" routerLinkActive="active">
            <i class="bi bi-house-door me-1"></i>{{ 'nav.dashboard' | t }}
          </a>
        </li>
        <li class="nav-item" *ngIf="authenticated">
          <a class="nav-link" [routerLink]="['/workouts']" routerLinkActive="active">
            <i class="bi bi-clipboard-data me-1"></i>{{ 'nav.workouts' | t }}
          </a>
        </li>
        <li class="nav-item" *ngIf="authenticated">
          <a class="nav-link" [routerLink]="['/progress']" routerLinkActive="active">
            <i class="bi bi-graph-up-arrow me-1"></i>{{ 'nav.progress' | t }}
          </a>
        </li>
      </ul>
      
      <!-- Right side: User menu or Auth buttons -->
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center">
        <li class="nav-item dropdown" *ngIf="authenticated && userName">
          <a 
            class="nav-link dropdown-toggle user-menu" 
            href="#" 
            id="userDropdown" 
            role="button" 
            data-bs-toggle="dropdown" 
            aria-expanded="false">
            <i class="bi bi-person-circle me-1"></i>
            <span class="user-name">{{ userName }}</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
            <li>
              <a class="dropdown-item" (click)="goToProfile()">
                <i class="bi bi-person me-2"></i>{{ 'nav.profile' | t }}
              </a>
            </li>
            <!-- <li>
              <a class="dropdown-item" [routerLink]="['/settings']">
                <i class="bi bi-gear me-2"></i>Settings
              </a>
            </li> -->
            <li><hr class="dropdown-divider"></li>
            <li>
              <a class="dropdown-item theme-toggle-item" (click)="toggleTheme()">
                <i class="bi me-2" [ngClass]="isDarkMode ? 'bi-sun-fill' : 'bi-moon-fill'"></i>
                <span>{{ isDarkMode ? ('nav.theme.light' | t) : ('nav.theme.dark' | t) }}</span>
              </a>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li>
              <a class="dropdown-item logout-item" (click)="logout()">
                <i class="bi bi-box-arrow-right me-2"></i>{{ 'nav.logout' | t }}
              </a>
            </li>
          </ul>
        </li>
        <li class="nav-item" *ngIf="!authenticated">
          <button class="btn btn-outline-primary btn-sm me-2" (click)="login()">
            <i class="bi bi-box-arrow-in-right me-1"></i>{{ 'nav.login' | t }}
          </button>
        </li>
        <li class="nav-item" *ngIf="!authenticated">
          <button class="btn btn-primary btn-sm" (click)="register()">
            <i class="bi bi-person-plus me-1"></i>{{ 'nav.signup' | t }}
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>
