/* PeakLift Keycloak Login Theme
   Covers login/register/forgot/reset/update/verify/error/info pages. */

:root {
  --peak-bg: #0a0a0a;
  --peak-surface: rgba(16, 16, 16, 0.96);
  --peak-surface-2: rgba(24, 24, 24, 0.95);
  --peak-border: rgba(224, 80, 40, 0.28);
  --peak-border-soft: rgba(224, 80, 40, 0.2);
  --peak-text: rgba(255, 255, 255, 0.92);
  --peak-subtext: rgba(255, 255, 255, 0.7);
  --peak-muted: rgba(255, 255, 255, 0.58);
  --peak-primary: #e05028;
  --peak-primary-strong: #c94420;
  --peak-shadow: 0 14px 34px rgba(0, 0, 0, 0.55);
}

html,
body {
  min-height: 100%;
  width: 100%;
}

body.login-pf,
body {
  background:
    radial-gradient(circle at 14% 10%, rgba(224, 80, 40, 0.14) 0%, transparent 36%),
    radial-gradient(circle at 88% 0%, rgba(224, 80, 40, 0.12) 0%, transparent 30%),
    var(--peak-bg) !important;
  color: var(--peak-text);
}

#kc-header,
#kc-header-wrapper,
#kc-page-title {
  color: var(--peak-primary) !important;
  text-shadow: 0 0 14px rgba(224, 80, 40, 0.35);
}

/* Replace realm name (e.g. gym-realm) with brand text */
#kc-header-wrapper {
  font-size: 0 !important;
  line-height: 1 !important;
  display: inline-block !important;
}

#kc-header-wrapper::after {
  content: "PEAKLIFT";
  font-size: 1.9rem;
  font-weight: 800;
  letter-spacing: 0.12em;
  color: var(--peak-primary);
  text-shadow: 0 0 14px rgba(224, 80, 40, 0.35);
}

#kc-content-wrapper,
.login-pf-page,
.login-pf-page .card-pf,
.pf-c-login,
.pf-c-login__container,
.pf-c-login__main {
  background: transparent !important;
}

.card-pf,
.pf-c-login__main {
  background: linear-gradient(150deg, var(--peak-surface), var(--peak-surface-2)) !important;
  border: 1px solid var(--peak-border) !important;
  border-radius: 18px !important;
  box-shadow: var(--peak-shadow), 0 0 0 1px rgba(224, 80, 40, 0.12) !important;
  color: var(--peak-text) !important;
  width: min(100%, 640px) !important;
  margin: 0.9rem auto !important;
  padding: 1.15rem !important;
}

#kc-content,
#kc-content-wrapper,
.pf-c-login,
.pf-c-login__container {
  width: 100% !important;
}

#kc-content-wrapper {
  margin-inline: auto !important;
  padding-inline: 1rem !important;
  max-width: 760px !important;
}

#kc-form,
#kc-form-wrapper,
#kc-login-form,
#kc-register-form,
#kc-reset-password-form,
#kc-update-profile-form,
#kc-passwd-update-form,
#kc-otp-login-form,
#kc-totp-settings,
#kc-form-login {
  width: 100% !important;
  max-width: 100% !important;
}

#kc-form-wrapper,
#kc-register-form,
#kc-login-form {
  max-width: 520px !important;
  margin: 0 auto !important;
}

#kc-register-form .instruction {
  text-align: left !important;
  margin-bottom: 0.55rem !important;
}

#kc-page-title {
  display: block !important;
  text-align: center !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 auto 0.5rem !important;
  left: 0 !important;
  right: 0 !important;
  transform: none !important;
}

#kc-form-wrapper #kc-page-title,
#kc-register-form #kc-page-title,
#kc-register-form h1,
#kc-register-form h2,
#kc-content-wrapper #kc-page-title {
  display: block !important;
  text-align: center !important;
  margin-left: auto !important;
  margin-right: auto !important;
  width: 100% !important;
}

#kc-page-title > *,
#kc-register-form #kc-page-title > *,
#kc-register-form h1 > *,
#kc-register-form h2 > * {
  display: inline-block !important;
  margin: 0 auto !important;
  text-align: center !important;
}

.form-group,
.pf-c-form__group,
.pf-v5-c-form__group {
  margin-bottom: 0.55rem !important;
}

#kc-form,
#kc-login-form,
#kc-register-form,
#kc-reset-password-form,
#kc-update-profile-form,
#kc-passwd-update-form,
#kc-otp-login-form,
#kc-totp-settings,
#kc-form-login {
  color: var(--peak-text);
}

label,
.control-label,
.pf-c-form__label,
.pf-v5-c-form__label,
.pf-c-form__label-text,
.pf-v5-c-form__label-text {
  color: var(--peak-subtext) !important;
  font-weight: 600;
}

input,
select,
textarea,
.form-control,
.pf-c-form-control,
.pf-v5-c-form-control,
.input-group .form-control,
.pf-c-input-group .pf-c-form-control,
.pf-v5-c-input-group .pf-v5-c-form-control {
  background: rgba(255, 255, 255, 0.04) !important;
  border: 1px solid rgba(255, 255, 255, 0.16) !important;
  border-radius: 12px !important;
  color: var(--peak-text) !important;
  box-shadow: none !important;
  min-height: 2.8rem !important;
}

input[type="password"],
.input-group,
.input-group .input-group-text,
.input-group .btn,
.pf-c-input-group,
.pf-c-input-group__item,
.pf-c-input-group .pf-c-button,
.pf-v5-c-input-group,
.pf-v5-c-input-group__item,
.pf-v5-c-input-group__item .pf-v5-c-form-control {
  background: rgba(255, 255, 255, 0.04) !important;
}

#password,
#password-confirm,
#password-new,
input[name="password"],
input[name="password-confirm"],
input[name="password-new"],
input[name="passwordNew"],
input[name="password-confirmation"] {
  background: rgba(255, 255, 255, 0.04) !important;
  color: var(--peak-text) !important;
  border-color: rgba(255, 255, 255, 0.16) !important;
  background-color: rgba(20, 20, 20, 0.95) !important;
  background-image: none !important;
}

#password:focus,
#password:active,
#password-confirm:focus,
#password-confirm:active,
#password-new:focus,
#password-new:active,
input[name="password"]:focus,
input[name="password"]:active,
input[name="password-confirm"]:focus,
input[name="password-confirm"]:active,
input[name="password-new"]:focus,
input[name="password-new"]:active,
input[name="passwordNew"]:focus,
input[name="passwordNew"]:active,
input[name="password-confirmation"]:focus,
input[name="password-confirmation"]:active {
  background: rgba(20, 20, 20, 0.95) !important;
  background-color: rgba(20, 20, 20, 0.95) !important;
  color: var(--peak-text) !important;
  -webkit-text-fill-color: var(--peak-text) !important;
}

.input-group input[type="password"],
.pf-c-input-group input[type="password"],
.pf-v5-c-input-group input[type="password"] {
  background: rgba(20, 20, 20, 0.95) !important;
  background-color: rgba(20, 20, 20, 0.95) !important;
  color: var(--peak-text) !important;
  -webkit-text-fill-color: var(--peak-text) !important;
  background-image: none !important;
}

#password:not(:focus),
#password-confirm:not(:focus),
#password-new:not(:focus),
input[name="password"]:not(:focus),
input[name="password-confirm"]:not(:focus),
input[name="password-new"]:not(:focus),
input[name="passwordNew"]:not(:focus),
input[name="password-confirmation"]:not(:focus) {
  background: rgba(20, 20, 20, 0.95) !important;
  background-color: rgba(20, 20, 20, 0.95) !important;
  color: var(--peak-text) !important;
  -webkit-text-fill-color: var(--peak-text) !important;
}

/* Keep password fields dark on blur/autofill in all Keycloak variants */
#kc-form input[type="password"],
#kc-login-form input[type="password"],
#kc-register-form input[type="password"],
#kc-form input[type="password"]:focus,
#kc-form input[type="password"]:active,
#kc-form input[type="password"]:not(:focus),
#kc-login-form input[type="password"]:not(:focus),
#kc-register-form input[type="password"]:not(:focus),
#kc-form input[type="password"]:-webkit-autofill,
#kc-login-form input[type="password"]:-webkit-autofill,
#kc-register-form input[type="password"]:-webkit-autofill {
  background: rgba(20, 20, 20, 0.95) !important;
  background-color: rgba(20, 20, 20, 0.95) !important;
  color: var(--peak-text) !important;
  -webkit-text-fill-color: var(--peak-text) !important;
  box-shadow: 0 0 0 1000px rgba(20, 20, 20, 0.95) inset !important;
}

input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 1000px rgba(20, 20, 20, 0.95) inset !important;
  box-shadow: 0 0 0 1000px rgba(20, 20, 20, 0.95) inset !important;
  -webkit-text-fill-color: var(--peak-text) !important;
  caret-color: var(--peak-text) !important;
}

input:-moz-autofill,
textarea:-moz-autofill,
select:-moz-autofill {
  box-shadow: 0 0 0 1000px rgba(20, 20, 20, 0.95) inset !important;
  -moz-text-fill-color: var(--peak-text) !important;
}

input::placeholder,
textarea::placeholder {
  color: var(--peak-muted) !important;
}

input:focus,
select:focus,
textarea:focus,
.pf-c-form-control:focus,
.pf-v5-c-form-control:focus {
  border-color: rgba(224, 80, 40, 0.7) !important;
  box-shadow: 0 0 0 3px rgba(224, 80, 40, 0.2) !important;
}

.pf-c-button,
.pf-v5-c-button,
.btn,
button {
  border-radius: 12px !important;
  transition: all 0.2s ease;
}

.pf-c-button.pf-m-primary,
.pf-v5-c-button.pf-m-primary,
input[type="submit"] {
  background: linear-gradient(135deg, var(--peak-primary) 0%, var(--peak-primary) 100%) !important;
  border-color: var(--peak-primary) !important;
  color: #fff !important;
  box-shadow: 0 8px 20px rgba(224, 80, 40, 0.35) !important;
}

.pf-c-button.pf-m-primary:hover,
.pf-c-button.pf-m-primary:focus,
.pf-v5-c-button.pf-m-primary:hover,
.pf-v5-c-button.pf-m-primary:focus,
input[type="submit"]:hover,
input[type="submit"]:focus {
  background: linear-gradient(135deg, var(--peak-primary-strong) 0%, var(--peak-primary-strong) 100%) !important;
  border-color: var(--peak-primary-strong) !important;
  transform: translateY(-1px);
}

.pf-c-button.pf-m-secondary,
.pf-v5-c-button.pf-m-secondary,
.pf-c-button.pf-m-link,
.pf-v5-c-button.pf-m-link,
.pf-v5-c-button.pf-m-control {
  border-color: var(--peak-border-soft) !important;
  color: var(--peak-primary) !important;
  background: rgba(255, 255, 255, 0.04) !important;
}

.pf-c-button.pf-m-secondary:hover,
.pf-v5-c-button.pf-m-secondary:hover {
  background: rgba(224, 80, 40, 0.1) !important;
  border-color: rgba(224, 80, 40, 0.46) !important;
}

a,
#kc-social-providers a,
#kc-form-options a {
  color: var(--peak-primary) !important;
}

a:hover,
a:focus {
  color: var(--peak-primary-strong) !important;
}

#kc-info,
#kc-info-wrapper,
#kc-terms-text,
#kc-totp-settings,
#kc-totp-secret-key,
#kc-totp-supported-apps,
#kc-oauth,
#kc-error-message {
  color: var(--peak-subtext) !important;
}

#kc-terms-text,
#kc-totp-settings,
#kc-oauth,
#kc-social-providers,
#kc-info-wrapper {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 12px;
  padding: 0.9rem;
}

#kc-social-providers ul {
  padding-left: 0;
}

#kc-social-providers li {
  list-style: none;
  margin-bottom: 0.5rem;
}

#kc-social-providers a {
  display: block;
  padding: 0.65rem 0.8rem;
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 10px;
  text-decoration: none;
  background: rgba(255, 255, 255, 0.03);
}

#kc-social-providers a:hover {
  background: rgba(224, 80, 40, 0.12);
  border-color: rgba(224, 80, 40, 0.5);
}

.pf-v5-c-input-group .pf-v5-c-button.pf-m-control,
.pf-v5-c-input-group .pf-v5-c-button.pf-m-control:hover,
.pf-v5-c-input-group .pf-v5-c-button.pf-m-control:focus {
  border-left: 0 !important;
  color: var(--peak-subtext) !important;
  background: rgba(255, 255, 255, 0.04) !important;
}

.input-group .btn,
.input-group .input-group-text,
.pf-c-input-group .pf-c-button,
.pf-c-input-group .pf-c-form-control {
  border-color: rgba(255, 255, 255, 0.16) !important;
  color: var(--peak-subtext) !important;
  background: rgba(255, 255, 255, 0.04) !important;
}

#kc-form-options,
.login-pf-signup,
#kc-registration-container {
  border-top: 0 !important;
  margin-top: 0.5rem !important;
  padding-top: 0.5rem !important;
}

#kc-form-options hr,
#kc-registration-container hr,
.login-pf-signup hr,
hr {
  display: none !important;
}

#kc-form-options .checkbox,
#kc-form-options .checkbox label,
.pf-c-check,
.pf-v5-c-check {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: 0.55rem !important;
  margin: 0 !important;
  white-space: nowrap !important;
}

#kc-form-options input[type="checkbox"],
.pf-c-check__input,
.pf-v5-c-check__input {
  margin: 0 !important;
  vertical-align: middle !important;
  transform: none !important;
  flex: 0 0 auto !important;
  margin-right: 0.45rem !important;
}

#kc-form-options .checkbox label {
  margin: 0 !important;
  padding: 0 !important;
  line-height: 1.2 !important;
  white-space: nowrap !important;
}

#kc-form-options-wrapper {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 0.9rem !important;
  flex-wrap: nowrap !important;
  border-top: 0 !important;
  padding-top: 0 !important;
  margin-top: 0 !important;
}

a[href*="login-actions/authenticate"],
#kc-form-options a {
  font-size: 1.05rem !important;
}

#kc-registration a[href*="login-actions/authenticate"],
#kc-registration-container a[href*="login-actions/authenticate"],
a[href*="login-actions/authenticate"] {
  display: inline-block !important;
  font-size: 1.15rem !important;
  font-weight: 600 !important;
  margin-top: 0.45rem !important;
  margin-bottom: 0.95rem !important;
  letter-spacing: 0.01em !important;
}

#kc-form-options .checkbox {
  min-height: 1.2rem !important;
  margin-left: 0.35rem !important;
  padding: 0.24rem 0.55rem !important;
  border-radius: 8px !important;
  background: rgba(255, 255, 255, 0.03) !important;
}

#kc-form-options .checkbox label,
.pf-c-check__label,
.pf-v5-c-check__label {
  line-height: 1.2 !important;
  margin-left: 0 !important;
}

#kc-form-options input[type="checkbox"],
.pf-c-check__input,
.pf-v5-c-check__input {
  width: 0.95rem !important;
  height: 0.95rem !important;
}

#kc-form-options a,
#kc-form-options-wrapper a,
#kc-form-options-wrapper .kcForgotPassword {
  margin: 0 !important;
  white-space: nowrap !important;
}

#kc-registration-container {
  padding: 0.38rem 0.65rem !important;
  margin-top: 0.4rem !important;
  border-radius: 9px !important;
}

#kc-registration-container p,
#kc-registration-container .instruction,
#kc-registration-container .login-pf-signup {
  margin: 0 !important;
  padding: 0 !important;
}

.alert,
.pf-c-alert,
.pf-v5-c-alert {
  border-radius: 12px !important;
  border: 1px solid rgba(224, 80, 40, 0.25) !important;
}

.alert-error,
.alert-danger,
.pf-m-danger {
  background: rgba(196, 52, 22, 0.2) !important;
  color: #ffd8ce !important;
}

.alert-success,
.pf-m-success {
  background: rgba(26, 106, 48, 0.28) !important;
  color: #d6ffe5 !important;
}

.alert-warning,
.pf-m-warning {
  background: rgba(131, 92, 19, 0.28) !important;
  color: #ffe9bd !important;
}

.alert-info,
.pf-m-info {
  background: rgba(20, 78, 126, 0.28) !important;
  color: #d3ebff !important;
}

.pf-c-check__label,
.pf-v5-c-check__label,
.checkbox label {
  color: var(--peak-subtext) !important;
}

.pf-c-check__input,
.pf-v5-c-check__input,
input[type="checkbox"] {
  accent-color: var(--peak-primary);
}

.kc-feedback-text,
.instruction,
.help-block,
.pf-c-form__helper-text,
.pf-v5-c-form__helper-text {
  color: var(--peak-muted) !important;
}

/* Final layout overrides: keep auth UI compact and centered on all auth pages */
html,
body {
  height: 100% !important;
}

body.login-pf {
  min-height: 100vh !important;
  display: block !important;
  padding: 0.75rem !important;
}

.login-pf-page,
.pf-c-login {
  min-height: calc(100vh - 1.5rem) !important;
  width: 100% !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  align-items: center !important;
  margin: 0 !important;
}

#kc-header {
  width: 100% !important;
  margin: 0 auto 0.45rem !important;
  text-align: center !important;
}

#kc-content-wrapper {
  width: 100% !important;
  max-width: 640px !important;
  margin: 0 auto !important;
}

.card-pf,
.pf-c-login__main {
  width: min(100%, 560px) !important;
  margin: 0 auto !important;
  padding: 0.9rem !important;
}

#kc-registration-container,
.login-pf-signup {
  max-width: 320px !important;
  width: 100% !important;
  margin: 0.3rem auto 0 !important;
  padding: 0.24rem 0.5rem !important;
  text-align: center !important;
}

@media (max-width: 767.98px) {
  .card-pf,
  .pf-c-login__main {
    border-radius: 14px !important;
    width: min(100%, 100vw - 1.5rem) !important;
    margin: 0.75rem auto !important;
    padding: 1.1rem !important;
  }

  #kc-header-wrapper {
    font-size: 0 !important;
  }

  #kc-page-title {
    font-size: 1.1rem;
  }
}

/* Absolute final overrides (keep at end): register title + remember-me layout */
#kc-content-wrapper #kc-page-title,
#kc-content-wrapper h1#kc-page-title,
#kc-content-wrapper .login-pf-header h1,
#kc-content-wrapper .login-pf-header #kc-page-title {
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  text-align: center !important;
  margin: 0 auto 0.55rem !important;
  padding: 0 !important;
  position: static !important;
  left: auto !important;
  transform: none !important;
}

#kc-form-options .checkbox {
  display: inline-flex !important;
  align-items: center !important;
  margin: 0 !important;
  padding: 0 !important;
  background: transparent !important;
}

#kc-form-options .checkbox label {
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.55rem !important;
  margin: 0 !important;
  padding: 0 !important;
  white-space: nowrap !important;
  background: transparent !important;
  position: static !important;
}

#kc-form-options .checkbox input[type="checkbox"] {
  margin: 0 !important;
  width: 0.95rem !important;
  height: 0.95rem !important;
  flex: 0 0 auto !important;
  position: static !important;
}

#kc-form-options-wrapper {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 0.85rem !important;
  flex-wrap: nowrap !important;
}

#kc-form-options-wrapper > :first-child,
#kc-form-options-wrapper > span:first-child {
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.55rem !important;
  margin: 0 !important;
  padding: 0.1rem 0.15rem 0.1rem 0.35rem !important;
}

#kc-form-options-wrapper > :first-child label,
#kc-form-options-wrapper > span:first-child label,
#kc-form-options #rememberMe + label,
#kc-form-options label[for="rememberMe"] {
  margin: 0 !important;
  padding: 0 !important;
  line-height: 1.2 !important;
  position: static !important;
}
/* Eye-toggle button: keep dark style and remove white outline/border flash */
.pf-v5-c-input-group .pf-v5-c-button.pf-m-control,
.pf-v5-c-input-group .pf-v5-c-button.pf-m-control:hover,
.pf-v5-c-input-group .pf-v5-c-button.pf-m-control:focus,
.pf-c-input-group .pf-c-button.pf-m-control,
.pf-c-input-group .pf-c-button.pf-m-control:hover,
.pf-c-input-group .pf-c-button.pf-m-control:focus,
.input-group .btn,
.input-group .btn:hover,
.input-group .btn:focus {
  background: rgba(20, 20, 20, 0.95) !important;
  border-color: rgba(255, 255, 255, 0.16) !important;
  color: var(--peak-subtext) !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Register texts only: style color/typography without changing default placement */
body[class*="register"] #kc-content-wrapper .login-pf-header #kc-page-title,
body[class*="register"] #kc-content-wrapper .login-pf-header h1,
body[class*="page-register"] #kc-content-wrapper .login-pf-header #kc-page-title,
body[class*="page-register"] #kc-content-wrapper .login-pf-header h1 {
  color: var(--peak-primary) !important;
  font-weight: 500 !important;
  font-size: 2rem !important;
  letter-spacing: 0.01em !important;
}

body[class*="register"] #kc-content-wrapper .login-pf-header .instruction,
body[class*="page-register"] #kc-content-wrapper .login-pf-header .instruction {
  color: var(--peak-subtext) !important;
  font-weight: 600 !important;
  font-size: 1rem !important;
}

/* Final stable header layout: keep required note left, force true centered title */
#kc-content-wrapper .login-pf-header {
  display: grid !important;
  grid-template-columns: 1fr auto 1fr !important;
  align-items: center !important;
  column-gap: 0.5rem !important;
  width: 100% !important;
}

#kc-content-wrapper .login-pf-header .instruction {
  grid-column: 1 !important;
  justify-self: start !important;
  margin: 0 !important;
  white-space: nowrap !important;
}

#kc-content-wrapper .login-pf-header #kc-page-title,
#kc-content-wrapper .login-pf-header h1 {
  grid-column: 2 !important;
  justify-self: center !important;
  margin: 0 0 0.65rem 0 !important;
  text-align: center !important;
}

/* Nuclear register-header fix (wins over all previous rules) */
#kc-content-wrapper:has(#kc-register-form) .login-pf-header {
  position: relative !important;
  display: block !important;
  width: 100% !important;
  min-height: 2.4rem !important;
  margin: 0 0 0.7rem 0 !important;
}

#kc-content-wrapper:has(#kc-register-form) .login-pf-header .instruction {
  position: absolute !important;
  left: 0 !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  margin: 0 !important;
  text-align: left !important;
  white-space: nowrap !important;
  z-index: 1 !important;
}

#kc-content-wrapper:has(#kc-register-form) .login-pf-header #kc-page-title,
#kc-content-wrapper:has(#kc-register-form) .login-pf-header h1 {
  position: absolute !important;
  left: 50% !important;
  top: 50% !important;
  transform: translate(-50%, -50%) !important;
  margin: 0 !important;
  width: max-content !important;
  max-width: 100% !important;
  text-align: center !important;
  z-index: 2 !important;
}

/* Final alignment overrides: center cookie warning + register texts */
#kc-info-wrapper,
#kc-info-message,
#kc-error-message,
#kc-error-message p,
#kc-info-wrapper p,
#kc-info-wrapper .instruction {
  text-align: center !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

#kc-content-wrapper:has(#kc-register-form) .login-pf-header .instruction,
#kc-content-wrapper:has(#kc-register-form) .login-pf-header #kc-page-title,
#kc-content-wrapper:has(#kc-register-form) .login-pf-header h1 {
  left: 50% !important;
  text-align: center !important;
  transform: translate(-50%, -50%) !important;
}

#kc-register-form .instruction {
  text-align: center !important;
}

/* Final final register centering: center container for long title text */
#kc-content-wrapper:has(#kc-register-form) .login-pf-header {
  position: static !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  width: 100% !important;
  min-height: auto !important;
  margin: 0 0 0.7rem 0 !important;
  text-align: center !important;
  gap: 0.3rem !important;
}

#kc-content-wrapper:has(#kc-register-form) .login-pf-header .instruction,
#kc-content-wrapper:has(#kc-register-form) .login-pf-header #kc-page-title,
#kc-content-wrapper:has(#kc-register-form) .login-pf-header h1 {
  position: static !important;
  left: auto !important;
  top: auto !important;
  transform: none !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  text-align: center !important;
  white-space: normal !important;
}

/* Locale switcher (language dropdown) */
#kc-locale,
#kc-locale-wrapper {
  position: relative !important;
  display: flex !important;
  justify-content: flex-end !important;
  width: 100% !important;
  margin: 0 0 0.65rem 0 !important;
  z-index: 20 !important;
}

#kc-locale-dropdown,
#kc-locale ul,
#kc-locale-list {
  position: relative !important;
  background: transparent !important;
  margin: 0 !important;
  padding: 0 !important;
}

#kc-current-locale-link,
#kc-locale-dropdown > a,
#kc-locale .pf-c-dropdown__toggle,
#kc-locale .pf-v5-c-dropdown__toggle,
#kc-locale .pf-c-menu-toggle,
#kc-locale .pf-v5-c-menu-toggle {
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.35rem !important;
  min-height: 2.2rem !important;
  padding: 0.48rem 0.85rem !important;
  border-radius: 10px !important;
  border: 1px solid var(--peak-border-soft) !important;
  background: rgba(20, 20, 20, 0.95) !important;
  color: var(--peak-subtext) !important;
  text-decoration: none !important;
  box-shadow: none !important;
}

#kc-current-locale-link:link,
#kc-current-locale-link:visited,
#kc-locale-dropdown > a:link,
#kc-locale-dropdown > a:visited,
#kc-locale .pf-c-menu-toggle__text,
#kc-locale .pf-v5-c-menu-toggle__text {
  color: var(--peak-subtext) !important;
  text-decoration: none !important;
}

/* Remove PatternFly underline/bottom accent from locale selector */
#kc-locale .pf-c-menu-toggle::before,
#kc-locale .pf-v5-c-menu-toggle::before,
#kc-locale .pf-c-menu-toggle::after,
#kc-locale .pf-v5-c-menu-toggle::after {
  border: 0 !important;
  border-bottom: 0 !important;
  box-shadow: none !important;
  background: transparent !important;
}

#kc-current-locale-link:hover,
#kc-current-locale-link:focus,
#kc-locale-dropdown > a:hover,
#kc-locale-dropdown > a:focus,
#kc-locale .pf-c-dropdown__toggle:hover,
#kc-locale .pf-v5-c-dropdown__toggle:hover,
#kc-locale .pf-c-menu-toggle:hover,
#kc-locale .pf-v5-c-menu-toggle:hover {
  color: var(--peak-text) !important;
  border-color: rgba(224, 80, 40, 0.52) !important;
  background: rgba(224, 80, 40, 0.12) !important;
  box-shadow: 0 0 0 3px rgba(224, 80, 40, 0.16) !important;
}

#kc-locale ul,
#kc-locale-list,
#kc-locale-dropdown ul,
#kc-locale-dropdown .pf-c-dropdown__menu,
#kc-locale-dropdown .pf-v5-c-dropdown__menu,
#kc-locale-dropdown .pf-c-menu,
#kc-locale-dropdown .pf-v5-c-menu {
  display: none !important;
  position: absolute !important;
  right: 0 !important;
  left: auto !important;
  top: calc(100% + 0.4rem) !important;
  min-width: 12rem !important;
  border: 1px solid var(--peak-border) !important;
  border-radius: 12px !important;
  background: linear-gradient(150deg, var(--peak-surface), var(--peak-surface-2)) !important;
  box-shadow: var(--peak-shadow) !important;
  overflow: hidden !important;
}

/* Open states for Keycloak + PatternFly variants */
#kc-locale-wrapper:hover ul,
#kc-locale-wrapper:focus-within ul,
#kc-locale-dropdown:hover ul,
#kc-locale-dropdown:focus-within ul,
#kc-locale .pf-c-dropdown.pf-m-expanded .pf-c-dropdown__menu,
#kc-locale .pf-v5-c-dropdown.pf-m-expanded .pf-v5-c-dropdown__menu,
#kc-locale .pf-c-menu-toggle[aria-expanded="true"] + .pf-c-menu,
#kc-locale .pf-v5-c-menu-toggle[aria-expanded="true"] + .pf-v5-c-menu {
  display: block !important;
}

#kc-locale ul li,
#kc-locale-list li,
#kc-locale-dropdown .pf-c-dropdown__menu-item,
#kc-locale-dropdown .pf-v5-c-dropdown__menu-item,
#kc-locale-dropdown .pf-c-menu__item,
#kc-locale-dropdown .pf-v5-c-menu__item {
  list-style: none !important;
  margin: 0 !important;
}

#kc-locale ul li a,
#kc-locale-list li a,
#kc-locale-dropdown .pf-c-dropdown__menu-item a,
#kc-locale-dropdown .pf-v5-c-dropdown__menu-item a,
#kc-locale-dropdown .pf-c-menu__item a,
#kc-locale-dropdown .pf-v5-c-menu__item a {
  display: block !important;
  width: 100% !important;
  padding: 0.66rem 0.9rem !important;
  color: var(--peak-subtext) !important;
  text-decoration: none !important;
  background: transparent !important;
  border: 0 !important;
}

#kc-locale ul li a:hover,
#kc-locale ul li a:focus,
#kc-locale-list li a:hover,
#kc-locale-list li a:focus,
#kc-locale-dropdown .pf-c-dropdown__menu-item a:hover,
#kc-locale-dropdown .pf-v5-c-dropdown__menu-item a:hover,
#kc-locale-dropdown .pf-c-menu__item a:hover,
#kc-locale-dropdown .pf-v5-c-menu__item a:hover {
  color: #fff !important;
  background: rgba(224, 80, 40, 0.18) !important;
}
